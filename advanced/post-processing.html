<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Slic3r Manual â€“ Post-Processing Scripts</title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="/style.css" type="text/css" />
</head>
<body>
<div id="back-to-website">
    <a href="http://slic3r.org/">slic3r.org &raquo;</a>
</div>
<h1 id="manual-header">
    <a href="/"><img src="/images/slic3r.png" style="float: left" /></a>
    <span>Slic3r Manual</span>
</h1>
<div style="clear: both"></div>
<div id="manual-toc">
<ul>
<li><a href="/intro/overview">Introduction</a>
<ul>
<li><a href="/intro/overview">Overview</a></li>
<li><a href="/intro/getting-support">Getting Support</a></li>
</ul></li>
<li><a href="/getting-slic3r/getting-slic3r">Getting Slic3r</a>
<ul>
<li><a href="/getting-slic3r/getting-slic3r#downloading">Downloading</a></li>
<li><a href="/getting-slic3r/getting-slic3r#installing">Installing</a></li>
<li><a href="/getting-slic3r/getting-slic3r#building-from-source">Building from source</a></li>
</ul></li>
<li><a href="/first-print/calibration">First Print</a>
<ul>
<li><a href="/first-print/calibration">Calibration</a></li>
<li><a href="/first-print/configuration-wizard">Configuration Wizard</a></li>
<li><a href="/first-print/first-layer">The Important First Layer</a></li>
<li><a href="/first-print/working-with-models">Working with Models</a></li>
<li><a href="/first-print/printing">Printing</a></li>
</ul></li>
<li>Print Configurations
<ul>
<li><a href="/expert-mode/print-settings">Print Settings</a></li>
<li><a href="/expert-mode/filament-settings">Filament Settings</a></li>
<li><a href="/expert-mode/printer-settings">Printer Settings</a></li>
<li><a href="/expert-mode/print-settings#speed">Speed</a></li>
<li><a href="/expert-mode/print-settings#infill-patterns">Infill Patterns and Density</a></li>
<li><a href="/expert-mode/print-settings#infill-optimization">Infill Optimization</a></li>
<li><a href="/expert-mode/fighting-ooze">Fighting Ooze</a></li>
<li><a href="/expert-mode/print-settings#skirt-and-brim">Skirt and brim</a></li>
<li><a href="/expert-mode/cooling">Cooling</a></li>
<li><a href="/expert-mode/print-settings#support-material">Support Material</a></li>
<li><a href="/expert-mode/print-settings#extrusion-width">Extrusion Width</a></li>
<li><a href="/advanced/sequential-printing">Sequential Printing</a></li>
<li><a href="/expert-mode/variable-layer-height">Variable Layer Height</a></li>
<li><a href="/configuration-organization/configuration-organization">Profiles and configuration</a></li>
</ul></li>
<li>Input/output files
<ul>
<li><a href="/advanced/repairing-models">Repairing Models</a></li>
<li><a href="/advanced/svg-output">SVG Output</a></li>
</ul></li>
<li>Topics
<ul>
<li><a href="/expert-mode/multiple-extruders">Multiple Extruders</a></li>
<li><a href="/topics/draft-quality">Draft Quality</a></li>
<li><a href="/topics/supported-file-formats">3D Model File Format Overview</a></li>
</ul></li>
<li>Advanced Topics
<ul>
<li><a href="/advanced/command-line">Command Line Usage</a></li>
<li><a href="/advanced/post-processing">Post-Processing Scripts</a></li>
<li><a href="/advanced/conditional-gcode">Conditional G-Code</a></li>
<li><a href="/advanced/placeholder-parser">Custom GCode Placeholders</a></li>
<li><a href="/advanced/flow-math">Flow Math</a></li>
<li><a href="/advanced/modifier-mesh">Modifier Meshes</a></li>
<li><a href="/advanced/filament-swaps">Filament Swaps</a></li>
</ul></li>
<li>Troubleshooting
<ul>
<li><a href="/troubleshooting/dimension-errors">Dimension Errors</a></li>
<li><a href="/troubleshooting/troubleshooting#z-wobble">Z Wobble</a></li>
</ul></li>
<li>Internals Documentation (Doxygen)
<ul>
<li><a href="/libslic3r-doc">libslic3r</a></li>
</ul></li>
</ul>
</div>
<div id="manual-body">
<div id="header">
<h1 class="title">Post-Processing Scripts</h1>
</div>
<p>There may be times when the G-Code generated by Slic3r has to be tweaked or modified after it has been created. For this reason there exists the ability to run arbitrary scripts as part of the final steps in the slicing process.</p>
<p>Example scripts can be found in the <a href="https://github.com/alexrj/Slic3r/tree/master/utils/post-processing">GitHub repository</a> or in the <a href="http://forums.reprap.org/list.php?263">RepRap forum</a>.</p>
<p><strong>Note:</strong> post-processing scripts can be written in <strong>any language</strong> (Perl, Python, Ruby, Bash etc.). They just need to be executable and to accept the path to the G-code file as the only argument.</p>
<p>In the <code>Output options</code> section of the <code>Print Settings</code> tab lies the <code>Post-processing scripts</code> option. The absolute path to each script can be added, separated by semicolons. Each scripts should be recognised by the host system, and be executable.</p>
<div class="figure">
<img src="images/post_processing_scripts/post_processing_scripts_options.png" title="fig:" alt="Post-processing script option." />
<p class="caption">Post-processing script option.</p>
</div>
<p>Each script will be passed the absolute path of the G-code file that Slic3r generates. The script will need to modify it in-place; alternatively it can output the new G-code to a temporary file and then overwrite the original one with it.</p>
<p>All Slic3r configuration options are made available to the scripts by way of environment variables. These all begin with <code>SLIC3R_</code>, for example <code>SLIC3R_LAYER_HEIGHT</code>. The following script would leave the G-code unmodified and just write out all Slic3r options to standard output:</p>
<pre><code>#!/bin/sh
echo &quot;Post-processing G-code file: $*&quot;
env | grep ^SLIC3R</code></pre>
<h4 id="post-processing-script-parameters">Post-Processing Script Parameters</h4>
<p>You can use parameters with your script as such:</p>
<p>Examples:</p>
<p><code>/path/to/executable</code> becomes <code>/path/to/executable</code> with the arg <code>outputfilename.gcode</code></p>
<p><code>/path/to/executable -arg -arg2</code> becomes <code>/path/to/executable</code> with <code>args -arg, -arg2</code>, and <code>outputfilename.gcode</code></p>
<p><code>/path/to/executable! with! spaces -arg -arg2</code> becomes <code>/path/to/executable with spaces with args -arg, -arg2</code>, and <code>outputfilename.gcode</code></p>
<p><code>/path/to/executable!! -arg -arg2</code> becomes <code>/path/to/executable!</code> with <code>args -arg, -arg2</code>, and <code>outputfilename.gcode</code></p>
<p><code>/path/to/executable option! with! spaces</code> becomes <code>/path/to/executable</code> with args <code>option with spaces</code> and <code>outputfilename.gcode</code></p>
<h2 id="perl-example">Perl example</h2>
<p>Perl's in-place mode (<code>perl -i</code>) makes it easy to modify the contents of the G-Code file, without having to copy, edit, then replace the original. The following example will simply output the contents to standard output:</p>
<pre><code>#!/usr/bin/perl -i
use strict;
use warnings;

while (&lt;&gt;) {
     # modify $_ here before printing
     print;
}</code></pre>
<p>If you are getting a <em>can't do inplace edit without backup</em> error when specifying the post-process script, try adding <code>$^I = '.bak';</code> before the while loop. This will create a backup file of the generated G-Code file. Windows does not like to have two scripts creating and/or accessing a single file at once, so a backup is needed.</p>
<h2 id="python-example">Python example</h2>
<h4 id="windows">Windows</h4>
<p>To use a Python post-processing script with Windows, you'll need to adjust the paths like this:</p>
<pre><code>C:\Program! Files! (x86)\Python37-32\python.exe c:\dev\SCPP\Slic3rConfigPrettyPrint.py -o --au &quot;John Doe&quot;</code></pre>
<p>Note the <strong>!</strong> before all white-spaces! Make sure you adjust the path to your script as well. Yes, you can save your G-Code file to somewhere with spaces in it's path.</p>
<p>Your script needs to accept at least one parameter: The filename of your G-Code file. <code>-o</code> and <code>--au &quot;John Doe&quot;</code> are optional parameters. The filename, of your G-Code, will be added to the end of this string.</p>
<p>Python.exe will then run your script with the specified parameters.</p>
<p>This <code>example.py</code> will just output the filename submitted by Slic3r:</p>
<pre><code>import sys
print (&#39;This is the name of your G-Code file: {0}&#39;.format(sys.argv[1]))</code></pre>
<p><code>sys.argv[0]</code> is the script <code>example.py</code>.</p>
</div>
<div id="manual-footer">
    Written by <a href="http://garyhodgson.com/">Gary Hodgson</a> with contributions from Alessandro Ranellucci and Jeff Moe<br />
    Sponsored by <a href="http://lulzbot.com/">LulzBot</a> - &copy; Aleph Objects, Inc.<br />
    Permission is granted to copy, distribute and/or modify this document under the terms of the 
    <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons BY-SA 3.0 license</a>
</div>
</body>
</html>
